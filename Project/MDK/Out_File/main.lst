C251 COMPILER V5.60.0,  main                                                               05/04/25  21:33:16  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Out_File\main.obj
COMPILER INVOKED BY: d:\Keil_v5\C251\BIN\C251.EXE ..\USER\src\main.c XSMALL INTR2 WARNINGLEVEL(3) BROWSE INCDIR(..\..\Li
                    -braries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\seekfree_peripheral;..\CODE;..\USER\inc;..\USER\src
                    -) DEBUG PRINT(.\Out_File\main.lst) OBJECT(.\Out_File\main.obj) 

stmt  level    source

    1          
    2          #include "headfile.h"
    3          void main()
    4          {
    5   1              DisableGlobalIRQ(); // ï¿½Ø±ï¿½ï¿½ï¿½ï¿½Ğ¶ï¿½
    6   1              board_init();           // ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½Ä´ï¿½ï¿½ï¿½,ï¿½ï¿½É¾ï¿½ï¿½ï¿½Ë¾ï¿½ï¿½ï¿½ë¡£
    7   1              delay_ms(800);          // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î¢ï¿½ï¿½Ê±Ò»ï¿½ï¿½
    8   1      
    9   1              //      lcd_init();
   10   1              ips114_init(); // 1.14ï¿½ï¿½Òºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½
   11   1      
   12   1              ADC_int();                                                                                                        // ADCï¿½É¼ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½
   13   1              ips114_showstr(0, 0, (unsigned char *)"Electromagnetic-Car"); // ï¿½Ö·ï¿½ï¿½ï¿½ï¿½ï¿½Ê¾
   14   1              ips114_showstr(0, 1, "interlize...");
   15   1              delay_ms(500);
   16   1              //      init_Steer_PWM();                                          //ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½
   17   1              init_PWM(MOTOR_MODE_SELECT); // ï¿½ï¿½Ê¼ï¿½ï¿½DRVï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê½ï¿½ï¿½1-DRV/0-BTNï¿½ï¿½
   18   1              encoder_init();                          // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½
   19   1              //      uart_init(UART_4, UART4_RX_P02, UART4_TX_P03, 115200, TIM_2);//ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½ï¿½ß´ï¿½ï¿½ï¿½
   20   1              //      pwm_init(PWMB_CH4_P77, 50, 750);                         //ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½Ë¢ï¿½ï¿½ï¿½20%Õ¼ï¿½Õ±ï
             -¿½
   21   1              //      pwm_init(PWMB_CH3_P33, 50, 750);                         //(1.2ms/20ms * 10000)ï¿½ï¿½10000ï¿½ï¿½PWMï¿
             -½ï¿½ï¿½ï¿½Õ¼ï¿½Õ±ï¿½Ê±ï¿½ï¿½ï¿½Öµï¿½ï¿½ 10000ÎªPWMï¿½ï¿½ï¿½Öµ
   22   1              delay_ms(500);                                                     // ï¿½ï¿½Ê±ï¿½ï¿½ï¿½ï¿½Ë¢ï¿½ï¿½ï¿½ï¿½ï¿½×ªï¿½ï¿½ï¿½ï¿½
   23   1              gpio_mode(Reed_Switch_Pin, GPI_IMPEDANCE); // Í£ï¿½ï¿½Ê¶ï¿½ï¿½Ä¸É»É¹ï¿½IOï¿½ï¿½Ê¼ï¿½ï¿½
   24   1              PID_int();                                                                 // PIDï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½
   25   1              // ips114_showstr(0,2,"icm20602_int...");
   26   1              // icm20602_init();
   27   1              // ips114_showstr(0,3,"icm20602_intok...");
   28   1              // delay_ms(500);
   29   1              // ips114_showstr(0,4,"dlla_int...");
   30   1              // delay_ms(500);
   31   1      
   32   1              //      dl1a_init();                                               //ï¿½ï¿½ï¿½ï¿½Ä£ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½
   33   1              // ips114_showstr(0,5,"dlla_intok...");
   34   1      
   35   1              pit_timer_ms(TIM_1, 5);                   // ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½1ï¿½ï¿½Îªï¿½ï¿½ï¿½ï¿½ï¿½Ğ¶Ï´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿
             -½ï¿½5MSï¿½ï¿½Ò»ï¿½ï¿½ï¿½Ğ¶ï¿½
   36   1              NVIC_SetPriority(TIMER1_IRQn, 3); // ï¿½ï¿½ï¿½Ã¶ï¿½Ê±ï¿½ï¿½1ï¿½Ğ¶ï¿½ï¿½ï¿½ï¿½È¼ï¿½Îª 3 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿
             -½ß¼ï¿½ï¿½ï¿½
   37   1      
   38   1              gpio_mode(P6_7, GPO_PP); // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½ï¿½Ä·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ò²Òªï¿
             -½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ó¦ï¿½Ä³ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½
   39   1              BUZZ_DiDiDi(250);                // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ò»ï¿½ï¿½
   40   1      
   41   1              ips114_showstr(0, 6, "intall_intok...");
   42   1              delay_ms(500);
   43   1              ips114_clear(BLUE);
   44   1              //       Key_Scan_Deal();      //ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½//
   45   1              EnableGlobalIRQ(); // ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½Ï£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ğ¶ï¿½
   46   1      
   47   1              /****ï¿½ï¿½ï¿½ï¿½Ä²ï¿½ï¿½Ôºï¿½ï¿½ï¿½Ö»ï¿½Ç²ï¿½ï¿½ï¿½ï¿½Ã£ï¿½ï¿½ï¿½ï¿½Ô½ï¿½ï¿½ï¿½ï¿½ï¿½×¢ï¿½Í¹Ø±Õ£ï¿½Ò»ï¿
             -½ï¿½Ö»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ò»ï¿½ï¿½ï¿½ï¿½ï¿½Ôºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½******/
   48   1              //      Test_Servo_Hardware();//ï¿½ï¿½ï¿½Ô¶ï¿½ï¿½ï¿½ï¿½Öµ
   49   1              //      Test_Motor_Hardware();//ï¿½ï¿½ï¿½Ôµï¿½ï¿½Ê¹ï¿½ï¿½
   50   1              //      Test_Electric_Hardware();//ï¿½ï¿½ï¿½Ôµï¿½Åµï¿½Ğ²É¼ï¿½
   51   1              //      Test_Encoder();//ï¿½ï¿½ï¿½Ô±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½É¼ï¿½//
C251 COMPILER V5.60.0,  main                                                               05/04/25  21:33:16  PAGE 2   

   52   1              /*********************************************************************************/
   53   1      
   54   1              while (1)
   55   1              {
   56   2                      //       Strategy_Slect();     //ï¿½ï¿½ï¿½ë¿ªï¿½Ø²ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½ 1--ï¿½ï¿½Ê¾ï¿½ï¿½ï¿½Öµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
             -Æ«ï¿½ï¿½ 2--Ñ¡ï¿½ï¿½ï¿½ï¿½ï¿½Ò³ï¿½ï¿½ï¿½ 3--Ñ¡ï¿½ï¿½ï¿½Ç·ï¿½ï¿½ë»·ï¿½ï¿½
   57   2                      //       Handle_Barn_Out(Library_selection);     //Ö´ï¿½Ğ³ï¿½ï¿½âº¯ï¿½ï¿½ï¿½ï¿½flag_startï¿½ï¿½Ö¾Î»ï¿½ï¿½Ò»ï
             -¿½Å»ï¿½ï¿½ï¿½Ğ¶ï¿½
   58   2      
   59   2                      // æ–­ç‚¹æ¨¡å— è°ƒè¯•ä½¿ç”¨
   60   2                      if ((testflag == 7) || (testflag == 404))
   61   2                      {
   62   3                              DisableGlobalIRQ();
   63   3                              go_motor(0, 0);
   64   3                              switch (testflag)
   65   3                              {
   66   4                              case 7:
   67   4                                      testflag = 100;
   68   4                                      break;
   69   4      
   70   4                              case 404:
   71   4                                      testflag = 101;
   72   4                                      break;
   73   4                              }
   74   3                      }
   75   2                      //                      Í£ï¿½ï¿½ï¿½ï¿½Ê¾
   76   2                      Reed();
   77   2                      ips114_showint8(0, 6, Reed_Switch_Pin);
   78   2                      ips114_showint8(0, 7, flag_end);
   79   2      
   80   2                      //     Roundabout_debugshow();//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä»ï¿½ï¿½Ê¾ï¿½ï¿½ï¿½ï¿½ï¿½Ô»ï¿½ï¿½ï¿½Ê±ï¿½
             -ò¿ª£ï¿½
   81   2                      // Speed_debugshow();     //ï¿½Ù¶È»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä»ï¿½ï¿½Ê¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ù¶È»ï¿½Ê±ï¿½ò¿ª£
             -ï¿½ï¿½Ù¶È»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î£ï¿½
   82   2                      //                datasend();          //ï¿½ï¿½Î»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
   83   2      
   84   2                      //                      ï¿½Ù¶ï¿½ï¿½ï¿½Ê¾
   85   2                      ips114_showint16(50, 0, left_real_speed);
   86   2                      ips114_showint16(50, 1, right_real_speed);
   87   2                      ips114_showint16(50, 2, real_speed);
   88   2                      ips114_showint16(50, 4, aim_speed);
   89   2      
   90   2                      //          ï¿½ï¿½ï¿½ï¿½ï¿½Ê¾
   91   2                      ips114_showint16(0, 0, Left_Adc); // road_type.straight
   92   2                      ips114_showint16(0, 1, Left_Shu_Adc);
   93   2                      ips114_showint16(0, 2, Right_Shu_Adc);
   94   2                      ips114_showint16(0, 3, Right_Adc);
   95   2                      ips114_showint16(0, 4, testflag);
   96   2                      //                      ï¿½ï¿½ï¿½ï¿½ï¿½Ê¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ø¹ï¿½Í£ï¿½
   97   2                      ips114_showuint16(100, 5, dl1a_distance_mm);
   98   2                      ips114_showuint16(100, 1, flag_obstacle);
   99   2      
  100   2                      //                      ï¿½ï¿½ï¿½ï¿½Æ«ï¿½ï¿½ï¿½ï¿½Ê¾
  101   2                      ips114_showfloat(0, 5, Current_Dir, 2, 1); // ï¿½ï¿½Ê¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½   ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¾2Î»   Ğ¡
             -ï¿½ï¿½ï¿½ï¿½Ê¾1Î»
  102   2      
  103   2                      //                      ï¿½ï¿½Ô´ï¿½ï¿½Ñ¹ï¿½ï¿½Ê¾
  104   2                      ips114_showstr(140, 0, "Value:");
  105   2                      ips114_showfloat(190, 0, adc_valueM, 2, 2);
  106   2      
  107   2                      //                      ï¿½ï¿½ï¿½Úµï¿½ï¿½ï¿½
  108   2                      uart_init(UART_2, UART2_RX_P10, UART2_TX_P11, 115200, TIM_2); // ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
  109   2                      printf("%d,%d,%d\n", aim_speed, left_real_speed, right_real_speed);
  110   2              }
  111   1      }

C251 COMPILER V5.60.0,  main                                                               05/04/25  21:33:16  PAGE 3   


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       533     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        66     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
