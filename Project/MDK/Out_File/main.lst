C251 COMPILER V5.60.0,  main                                                               27/05/25  18:37:09  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Out_File\main.obj
COMPILER INVOKED BY: d:\Keil_v5\C251\BIN\C251.EXE ..\USER\src\main.c XSMALL INTR2 WARNINGLEVEL(3) OPTIMIZE(5,SPEED) BROW
                    -SE INCDIR(..\..\Libraries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\seekfree_peripheral;..\CODE;..\US
                    -ER\inc;..\USER\src;..\..\vofa+) DEBUG PRINT(.\Out_File\main.lst) OBJECT(.\Out_File\main.obj) 

stmt  level    source

    1          #include "vofa.h"
    2          #include "headfile.h"
    3          #include "fuse.h"
    4          void main()
    5          {
    6   1          DisableGlobalIRQ(); // å…³é—­æ€»ä¸­æ–­
    7   1          board_init();       // åˆå§‹åŒ–å¯„å­˜å™¨,å‹¿åˆ é™¤æ­¤å¥ä»£ç 
    8   1          delay_ms(800);      // ç¡¬ä»¶ç¨å¾®å»¶æ—¶ä¸€ä¸‹
    9   1      
   10   1          ips114_init(); // 1.14å¯¸æ¶²æ™¶å±åˆå§‹åŒ–
   11   1      
   12   1          ADC_int();                                                    // ADCé‡‡é›†åˆå§‹åŒ–
   13   1          ips114_showstr(0, 0, (unsigned char *)"Electromagnetic-Car"); // å­—ç¬¦ä¸²æ˜¾ç¤º
   14   1          ips114_showstr(0, 1, "interlize...");
   15   1          delay_ms(500);
   16   1          init_PWM(MOTOR_MODE_SELECT);               // åˆå§‹åŒ–DRVé©±åŠ¨æ–¹å¼ï¼ˆ1-DRV/0-BTNï¼‰
   17   1          encoder_init();                            // ç¼–ç å™¨åˆå§‹åŒ–
   18   1          delay_ms(500);                             // å»¶æ—¶è®©æ— åˆ·ç”µæœºå…ˆè½¬èµ·æ¥
   19   1          gpio_mode(Reed_Switch_Pin, GPI_IMPEDANCE); // åœè½¦è¯†åˆ«çš„å¹²ç°§ç®¡IOåˆå§‹åŒ–
   20   1          PID_int();                                 // PIDå‚æ•°åˆå§‹åŒ–
   21   1          ips114_showstr(0, 2, "icm20602_int...");
   22   1          icm20602_init();
   23   1      
   24   1          pit_timer_ms(TIM_1, 5);           // åˆå§‹åŒ–å®šæ—¶å™¨1ä½œä¸ºå‘¨æœŸæ€§è§¦å‘æºï¼Œ5MSè¿›ä¸€æ¬¡ä¸­æ–­
   25   1          NVIC_SetPriority(TIMER1_IRQn, 3); // è®¾ç½®å®šæ—¶å™¨1çš„ä¼˜å…ˆçº§ä¸º 3 çº§ï¼ˆæœ€é«˜çº§ï¼‰
   26   1      
   27   1          gpio_mode(P6_7, GPO_PP); // èœ‚é¸£å™¨åˆå§‹åŒ–ï¼ˆæ”¹èœ‚é¸£å™¨å¼•è„šä¹Ÿè¦æ”¹è¿™ä¸ªå¯¹åº”çš„åˆå§‹åŒ–ï
             -¼‰
   28   1          BUZZ_DiDiDi(250);        // èœ‚é¸£å™¨æ»´ä¸€ä¸‹
   29   1      
   30   1          ips114_showstr(0, 6, "intall_intok...");
   31   1          delay_ms(500);
   32   1          ips114_clear(BLUE);
   33   1      
   34   1          EnableGlobalIRQ(); // åˆå§‹åŒ–å®Œæ¯•ï¼Œå¼€å¯æ€»ä¸­æ–­
   35   1      
   36   1          //  ä¸²å£è°ƒè¯•
   37   1          uart_init(UART_2, UART2_RX_P10, UART2_TX_P11, 115200, TIM_2); // åˆå§‹åŒ–ä¸²å£
   38   1      
   39   1          /****ä¸‹é¢çš„æµ‹è¯•å‡½æ•°åªç”¨æµ‹è¯•ç”¨ï¼Œæµ‹è¯•ç»“æŸåæ³¨é‡Šå…³é—­ï¼Œä¸€æ¬¡åªå…è®¸å¼€ä¸€ä¸ªæµ‹
             -è¯•å‡½æ•°ï¼ï¼******/
   40   1          //  Test_Servo_Hardware();//æµ‹è¯•èˆµæœºè°ƒèŠ‚
   41   1          //  Test_Motor_Hardware();//è°ƒè¯•ç”µæœºä½¿ç”¨
   42   1          //  Test_Electric_Hardware();//æµ‹è¯•ç”µç£ç”µæ„Ÿé‡‡é›†
   43   1          //  Test_Encoder();//æµ‹è¯•ç¼–ç å™¨é‡‡é›†//
   44   1          /*********************************************************************************/
   45   1      
   46   1          while (1)
   47   1          {
   48   2              //                      ä¸²å£è°ƒè¯•
   49   2      
   50   2              //                      printf("%d,%d,%d\n",aim_speed,left_real_speed,right_real_speed);
   51   2      
   52   2              //       Strategy_Slect();     //æ‹¨ç å¼€å…³ç­–ç•¥é€‰æ‹© 1--æ˜¾ç¤ºç”µæ„Ÿå€¼å’Œèµ›é“åå·® 2--é€‰æ‹©å
             -·¦å³å‡ºåº“ 3--é€‰æ‹©æ˜¯å¦å…¥ç¯
   53   2              //       Handle_Barn_Out(Library_selection);     //æ‰§è¡Œå‡ºåº“å‡½æ•°åflag_startæ ‡å¿—ä½ç½®ä¸€æ‰ä¼
             -šè¿›ä¸­æ–­
C251 COMPILER V5.60.0,  main                                                               27/05/25  18:37:09  PAGE 2   

   54   2      
   55   2              //                      åœè½¦æ˜¾ç¤º
   56   2              //                      Reed();
   57   2              //                      ips114_showint8(0,6,Reed_Switch_Pin);
   58   2              //                      ips114_showint8(0,7,flag_end);
   59   2      
   60   2              //     Roundabout_debugshow();//ç¯å²›è°ƒè¯•å±å¹•æ˜¾ç¤ºï¼ˆè°ƒè¯•ç¯å²›æ—¶æ‰“å¼€ï¼‰
   61   2              // Speed_debugshow();     //é€Ÿåº¦ç¯è°ƒè¯•å±å¹•æ˜¾ç¤ºï¼ˆè°ƒè¯•é€Ÿåº¦ç¯æ—¶æ‰“å¼€ï¼Œé€Ÿåº¦ç¯å»º
             -è®®ç”¨ä¸Šä½æœºçœ‹æ³¢å½¢ï¼‰
   62   2              //                datasend();          //ä¸Šä½æœºå‘é€æ•°æ®
   63   2      
   64   2              ////                    é€Ÿåº¦æ˜¾ç¤º
   65   2              // ips114_showint16(50, 0, left_real_speed);
   66   2              // ips114_showint16(50, 1, right_real_speed);
   67   2              // ips114_showint16(50, 2, real_speed);
   68   2              // ips114_showint16(50, 4, aim_speed);
   69   2              // //
   70   2              // //
   71   2              // //
   72   2              //          ç”µæ„Ÿæ˜¾ç¤º
   73   2              // ips114_showint16(0, 0, Left_Adc);
   74   2              // ips114_showint16(0, 1, Left_Shu_Adc);
   75   2              // ips114_showint16(0, 2, Right_Shu_Adc);
   76   2              // ips114_showint16(0, 3, Right_Adc);
   77   2              // ips114_showint16(0, 0, adc_value[0]);
   78   2              // ips114_showint16(0, 1, adc_value[1]);
   79   2              // ips114_showint16(0, 2, adc_value[2]);
   80   2              // ips114_showint16(0, 3, adc_value[3]);
   81   2      
   82   2              // ////                 æµ‹è·æ˜¾ç¤ºï¼ˆåé¢æ³¨é‡Šï¼‰
   83   2              // //                   ips114_showuint16(100,5,dl1a_distance_mm);
   84   2              // //                   ips114_showuint16(100,1,flag_obstacle);
   85   2              // //
   86   2              // ////                 èµ›é“åå·®æ˜¾ç¤º
   87   2              // ips114_showfloat(0, 5, Current_Dir, 2, 1); // æ˜¾ç¤ºå°ç‚¹æ•°   æ•´æ•°æ˜¾ç¤º2ä½   å°æ•°æ˜¾ç¤
             -º1ä½
   88   2              // //
   89   2              // //
   90   2              //                      ç”µæºç”µå‹æ˜¾ç¤º
   91   2              // ips114_showstr(140, 0, "Value:");
   92   2              // ips114_showfloat(190, 0, adc_valueM, 2, 2);
   93   2              vofa_demo3((float)temp_right, (float)right_real_speed, (float)Current_Dir);
   94   2          }
   95   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       233     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        65     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
